function _createForOfIteratorHelper(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=_unsupportedIterableToArray(e))){var t=0,a=function(){};return{s:a,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,i,c=!0,r=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){r=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(r)throw i}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(a):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{n39x:function(e,t,a){"use strict";a.r(t),a.d(t,"GatewaysModule",(function(){return D}));var n,i=a("2kYt"),c=a("sEIs"),r=a("EM62"),o=((n=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||n)},n.\u0275cmp=r.Eb({type:n,selectors:[["waziupfront-gateways"]],decls:1,vars:0,template:function(e,t){1&e&&r.Lb(0,"router-outlet")},directives:[c.e],encapsulation:2}),n),b=a("kuMc"),s=a("ZTXN"),l=a("1j5C");function d(e,t){1&e&&(r.Pb(0,"div",3),r.Pb(1,"div",4),r.Pb(2,"div",5),r.Pb(3,"p",6),r.tc(4,"Gateways"),r.Ob(),r.Ob(),r.Ob(),r.Ob())}function g(e,t){1&e&&(r.Pb(0,"div",3),r.Pb(1,"div",4),r.Pb(2,"div",7),r.Pb(3,"div",8),r.Pb(4,"div",9),r.Lb(5,"div",10),r.Lb(6,"div",10),r.Ob(),r.Ob(),r.Lb(7,"div",11),r.Ob(),r.Ob(),r.Ob())}function u(e,t){1&e&&(r.Pb(0,"span",35),r.tc(1,"connect\xe9"),r.Ob())}function v(e,t){1&e&&(r.Pb(0,"span",36),r.tc(1,"deconnect\xe9"),r.Ob())}function f(e,t){if(1&e){var a=r.Qb();r.Pb(0,"div",24),r.Pb(1,"div",25),r.Xb("click",(function(){r.mc(a);var e=t.$implicit;return r.Zb(2).navigategatewayDetail(e.id)})),r.Pb(2,"div",26),r.Pb(3,"div",27),r.Pb(4,"div",4),r.Pb(5,"div",28),r.Lb(6,"img",29),r.Ob(),r.Ob(),r.Pb(7,"div",4),r.Pb(8,"h4",30),r.tc(9),r.Ob(),r.Pb(10,"h5",31),r.tc(11,"Etat: "),r.rc(12,u,2,0,"span",32),r.rc(13,v,2,0,"span",33),r.Ob(),r.Pb(14,"p"),r.Pb(15,"span",34),r.tc(16),r.ac(17,"date"),r.Ob(),r.Ob(),r.Pb(18,"p"),r.Pb(19,"span",34),r.Pb(20,"h5"),r.tc(21),r.Ob(),r.Ob(),r.Ob(),r.Pb(22,"p"),r.Pb(23,"span",34),r.Pb(24,"h5"),r.tc(25),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob()}if(2&e){var n=t.$implicit;r.zb(9),r.vc("Gateways: ",n.name,""),r.zb(3),r.ec("ngIf",n.connected),r.zb(1),r.ec("ngIf",!n.connected),r.zb(3),r.vc("Date de creation: ",r.bc(17,6,n.date_created,"d/M/y"),""),r.zb(5),r.vc("Utilisateur: ",n.owner," "),r.zb(4),r.vc("ID: ",n.id,"")}}function p(e,t){1&e&&(r.Pb(0,"div",18),r.Pb(1,"div",37),r.Lb(2,"img",38),r.Pb(3,"h5",39),r.tc(4,"Aucune Gateway en vue"),r.Ob(),r.Ob(),r.Ob())}function y(e,t){if(1&e&&(r.Pb(0,"div",12),r.Pb(1,"div",13),r.Pb(2,"div",14),r.Pb(3,"div",15),r.Pb(4,"div",16),r.Pb(5,"div",17),r.Pb(6,"div",3),r.Pb(7,"div",18),r.Pb(8,"h5",19),r.tc(9," LISTE DES GATEWAYS "),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Lb(10,"hr",20),r.Pb(11,"div",21),r.Pb(12,"div",3),r.rc(13,f,26,9,"div",22),r.rc(14,p,5,0,"div",23),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob()),2&e){var a=r.Zb();r.zb(13),r.ec("ngForOf",a.gateways_data),r.zb(1),r.ec("ngIf",0==a.gateways_data.length)}}var m,O=((m=function(){function e(t,a){_classCallCheck(this,e),this._gatewaysService=t,this.router=a,this.unsubscribeAll=new s.a,this.loadinggateways=!1}return _createClass(e,[{key:"ngOnInit",value:function(){this.loadinggateways=!0,this.getallgateways()}},{key:"getallgateways",value:function(){var e=this,t=JSON.parse(sessionStorage.getItem("useremail"));this._gatewaysService.getgatewaysall().pipe(Object(b.a)(this.unsubscribeAll)).subscribe((function(a){var n,i=[],c=_createForOfIteratorHelper(a);try{for(c.s();!(n=c.n()).done;){var r=n.value;r.owner===t&&i.push(r)}}catch(o){c.e(o)}finally{c.f()}e.loadinggateways=!1,e.gateways_data=i,e.datalength=i.length,console.log("getwaydata",e.gateways_data)}),(function(e){e&&console.log("erreur",e)}))}},{key:"navigategatewayDetail",value:function(e){sessionStorage.setItem("gatewayId",e),this.router.navigate(["/account/gateways/detail"])}},{key:"ngOnDestroy",value:function(){this.unsubscribeAll.next(),this.unsubscribeAll.complete()}}]),e}()).\u0275fac=function(e){return new(e||m)(r.Kb(l.a),r.Kb(c.a))},m.\u0275cmp=r.Eb({type:m,selectors:[["waziupfront-gateways-list"]],decls:3,vars:3,consts:[["class","row ",4,"ngIf"],["class","row",4,"ngIf"],["class","row mb-5",4,"ngIf"],[1,"row"],[1,"col-12"],[1,"page-title-box","mt-3","mb-5"],[1,"h2"],[1,"placeload"],[1,"header"],[1,"header-content"],[1,"content-shape","loads"],[1,"image-placeholder","loads"],[1,"row","mb-5"],[1,"col-xl-12","col-md-12","col-lg-12","order-lg-2","order-xl-1"],[1,"card"],[1,"card-body","pb-1"],[1,"media"],[1,"media-body"],[1,"col-md-12"],[1,"m-2"],[1,"m-0"],[1,"my-3"],["class","col-lg-6 col-xl-6",4,"ngFor","ngForOf"],["class","col-md-12",4,"ngIf"],[1,"col-lg-6","col-xl-6"],[1,"card","cusor-pointer",3,"click"],[1,"card-body"],[1,"row","align-items-center"],[1,"text-center","mb-3"],["src","assets/images/img-component/getways.png","alt","devices",2,"width","100px"],["title","New Leads",1,"font-weight-bold"],[1,"my-2","py-1"],["class","badge badge-success",4,"ngIf"],["class","badge badge-danger",4,"ngIf"],[1,"text-nowrap"],[1,"badge","badge-success"],[1,"badge","badge-danger"],[1,"box-not-found"],["src","assets/images/notfound-2.svg","alt","not found"],[1,"not-found-describe"]],template:function(e,t){1&e&&(r.rc(0,d,5,0,"div",0),r.rc(1,g,8,0,"div",1),r.rc(2,y,15,2,"div",2)),2&e&&(r.ec("ngIf",!t.loadinggateways),r.zb(1),r.ec("ngIf",t.loadinggateways),r.zb(1),r.ec("ngIf",!t.loadinggateways))},directives:[i.j,i.i],pipes:[i.d],encapsulation:2}),m),w=a("L4gg");function h(e,t){if(1&e&&(r.Pb(0,"div",3),r.Pb(1,"div",4),r.Pb(2,"div",5),r.Pb(3,"p",6),r.tc(4),r.Ob(),r.Ob(),r.Ob(),r.Ob()),2&e){var a=r.Zb();r.zb(4),r.vc("Gateways: ",a.gatewaysdetail.name,"")}}function P(e,t){1&e&&(r.Pb(0,"div",3),r.Pb(1,"div",4),r.Pb(2,"div",7),r.Pb(3,"div",8),r.Pb(4,"div",9),r.Lb(5,"div",10),r.Lb(6,"div",10),r.Ob(),r.Ob(),r.Lb(7,"div",11),r.Ob(),r.Ob(),r.Ob())}function I(e,t){1&e&&(r.Pb(0,"span",37),r.tc(1,"connect\xe9"),r.Ob())}function _(e,t){1&e&&(r.Pb(0,"span",38),r.tc(1,"deconnect\xe9"),r.Ob())}function k(e,t){if(1&e){var a=r.Qb();r.Pb(0,"div",39),r.Pb(1,"div",40),r.Xb("click",(function(){r.mc(a);var e=t.$implicit;return r.Zb(2).navigatedeviceDetail(e.id)})),r.Pb(2,"div",29),r.Pb(3,"div",41),r.Pb(4,"div",42),r.Pb(5,"h5",43),r.tc(6),r.Ob(),r.Ob(),r.Pb(7,"div",44),r.Pb(8,"div",45),r.Lb(9,"img",46),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob()}if(2&e){var n=t.$implicit;r.zb(5),r.fc("title",n.name),r.zb(1),r.uc(n.name)}}function x(e,t){if(1&e&&(r.Pb(0,"div",12),r.Pb(1,"div",13),r.Pb(2,"div",14),r.Pb(3,"div",15),r.Pb(4,"div",16),r.Pb(5,"div",17),r.Pb(6,"div",3),r.Pb(7,"div",18),r.Pb(8,"h5",19),r.tc(9),r.rc(10,I,2,0,"span",20),r.rc(11,_,2,0,"span",21),r.Ob(),r.Ob(),r.Pb(12,"div",22),r.Pb(13,"button",23),r.tc(14,"Editer la gateways"),r.Ob(),r.Pb(15,"button",24),r.tc(16,"Supprimer "),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Lb(17,"hr",25),r.Pb(18,"div",26),r.Pb(19,"div",3),r.Pb(20,"div",27),r.Pb(21,"div",28),r.Pb(22,"div",29),r.Lb(23,"img",30),r.Pb(24,"h4",31),r.tc(25),r.Ob(),r.Pb(26,"p",32),r.tc(27),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Pb(28,"div",33),r.Pb(29,"div",14),r.Pb(30,"div",34),r.Pb(31,"p",35),r.tc(32,"Listes des devices"),r.Ob(),r.Ob(),r.Pb(33,"div",29),r.Pb(34,"div",3),r.rc(35,k,10,2,"div",36),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob()),2&e){var a=r.Zb();r.zb(9),r.vc("NOM: ",a.gatewaysdetail.name," "),r.zb(1),r.ec("ngIf",a.gatewaysdetail.connected),r.zb(1),r.ec("ngIf",!a.gatewaysdetail.connected),r.zb(14),r.vc("Utilisateur: ",a.gatewaysdetail.owner,""),r.zb(2),r.vc("ID: ",a.gatewaysdetail.id,""),r.zb(8),r.ec("ngForOf",a.gatewaysdetail.devices)}}function z(e,t){if(1&e&&(r.Pb(0,"div",3),r.Pb(1,"div",47),r.Pb(2,"div",14),r.Pb(3,"div",29),r.Pb(4,"h4",48),r.tc(5),r.Ob(),r.Lb(6,"div",49),r.Ob(),r.Ob(),r.Ob(),r.Ob()),2&e){var a=r.Zb();r.zb(5),r.vc("Localisation de la gateway: ",a.gatewaysdetail.name,"")}}var A,L,C,S=[{path:"",component:o,children:[{path:"",component:O},{path:"list",component:O},{path:"detail",component:(A=function(){function e(t,a){_classCallCheck(this,e),this._gatewaysService=t,this.router=a,this.unsubscribeAll=new s.a,this.loading=!1}return _createClass(e,[{key:"ngOnInit",value:function(){this.loading=!0,this.gatewayid=sessionStorage.getItem("gatewayId"),this.getDetailProject(),this.getGatewayslocalisationmap()}},{key:"getDetailProject",value:function(){var e=this;try{this._gatewaysService.getgatewaysDetail(this.gatewayid).pipe(Object(b.a)(this.unsubscribeAll)).subscribe((function(t){t&&(e.loading=!1,e.gatewaysdetail=t,console.log("gatewaydetail",t))}),(function(e){}))}catch(t){console.log("Erreur",t)}}},{key:"getGatewayslocalisationmap",value:function(){var e=this;try{this._gatewaysService.getgatewaysDetail(this.gatewayid).pipe(Object(b.a)(this.unsubscribeAll)).subscribe((function(t){e.gateways_mapdata=t;var a=w.map("gatewaysmap").setView([5.355577644,-3.925080299],2.5);w.tileLayer("http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="http://openstreetmap.org">OpenStreetMap</a> Contributors'}).addTo(a),new w.marker([e.gateways_mapdata.location.latitude,e.gateways_mapdata.location.longitude]).bindPopup("<h5>"+e.gateways_mapdata.name+"</h5> ").addTo(a)}),(function(e){e&&console.log("erreur",e)}))}catch(t){console.log("erreur")}}},{key:"navigatedeviceDetail",value:function(e){sessionStorage.setItem("deviceId",e),this.router.navigate(["/account/devices/detail"])}},{key:"ngOnDestroy",value:function(){this.unsubscribeAll.next(),this.unsubscribeAll.complete()}}]),e}(),A.\u0275fac=function(e){return new(e||A)(r.Kb(l.a),r.Kb(c.a))},A.\u0275cmp=r.Eb({type:A,selectors:[["waziupfront-gateways-detail"]],decls:4,vars:4,consts:[["class","row ",4,"ngIf"],["class","row",4,"ngIf"],["class","row mb-5",4,"ngIf"],[1,"row"],[1,"col-12"],[1,"page-title-box","mt-3","mb-5"],[1,"h2"],[1,"placeload"],[1,"header"],[1,"header-content"],[1,"content-shape","loads"],[1,"image-placeholder","loads"],[1,"row","mb-5"],[1,"col-xl-6","col-lg-12","order-lg-2","order-xl-1"],[1,"card"],[1,"card-body","pb-1"],[1,"media"],[1,"media-body"],[1,"col-md-8"],[1,"m-2"],["class","badge badge-success",4,"ngIf"],["class","badge badge-danger",4,"ngIf"],[1,"col-md-4"],["type","button",1,"btn","btn-outline-primary","mr-1"],["type","button",1,"btn","btn-outline-danger"],[1,"m-0"],[1,"my-3"],[1,"col-lg-12","col-xl-12"],[1,"card","text-center"],[1,"card-body"],["src","assets/images/users/avatar-1.png","alt","profile-image",1,"rounded-circle","avatar-lg","img-thumbnail"],[1,"mb-2","mt-2"],[1,"text-muted","font-14"],[1,"col-md-12"],[1,"card-header"],[1,"h3","text-center","mb-3"],["class","col-lg-6 col-xl-6",4,"ngFor","ngForOf"],[1,"badge","badge-success"],[1,"badge","badge-danger"],[1,"col-lg-6","col-xl-6"],[1,"card","cusor-pointer","pt-5","pb-5",3,"click"],[1,"row","align-items-center"],[1,"col-8"],[1,"text-muted","font-weight-normal","mt-0","text-truncate",3,"title"],[1,"col-4"],[1,"text-right"],["src","assets/images/img-component/devices.png","alt","get ways",2,"width","100px"],[1,"col-md-12","col-xl-12"],[1,"header-title","mb-3"],["id","gatewaysmap",1,"gmaps",2,"position","relative","overflow","hidden"]],template:function(e,t){1&e&&(r.rc(0,h,5,1,"div",0),r.rc(1,P,8,0,"div",1),r.rc(2,x,36,6,"div",2),r.rc(3,z,7,1,"div",1)),2&e&&(r.ec("ngIf",!t.loading),r.zb(1),r.ec("ngIf",t.loading),r.zb(1),r.ec("ngIf",!t.loading),r.zb(1),r.ec("ngIf",!t.loading))},directives:[i.j,i.i],encapsulation:2}),A)}]}],j=((C=function e(){_classCallCheck(this,e)}).\u0275mod=r.Ib({type:C}),C.\u0275inj=r.Hb({factory:function(e){return new(e||C)},imports:[[c.d.forChild(S)],c.d]}),C),D=((L=function e(){_classCallCheck(this,e)}).\u0275mod=r.Ib({type:L}),L.\u0275inj=r.Hb({factory:function(e){return new(e||L)},imports:[[i.b,j]]}),L)}}]);