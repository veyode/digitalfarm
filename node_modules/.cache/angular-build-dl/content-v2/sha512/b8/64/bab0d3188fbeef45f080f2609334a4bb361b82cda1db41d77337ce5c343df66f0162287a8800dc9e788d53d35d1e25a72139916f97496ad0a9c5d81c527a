(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{n39x:function(t,e,a){"use strict";a.r(e),a.d(e,"GatewaysModule",(function(){return D}));var i=a("2kYt"),b=a("sEIs"),n=a("EM62");let c=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Eb({type:t,selectors:[["waziupfront-gateways"]],decls:1,vars:0,template:function(t,e){1&t&&n.Lb(0,"router-outlet")},directives:[b.e],encapsulation:2}),t})();var s=a("kuMc"),o=a("ZTXN"),d=a("1j5C");function r(t,e){1&t&&(n.Pb(0,"div",3),n.Pb(1,"div",4),n.Pb(2,"div",5),n.Pb(3,"p",6),n.tc(4,"Gateways"),n.Ob(),n.Ob(),n.Ob(),n.Ob())}function l(t,e){1&t&&(n.Pb(0,"div",3),n.Pb(1,"div",4),n.Pb(2,"div",7),n.Pb(3,"div",8),n.Pb(4,"div",9),n.Lb(5,"div",10),n.Lb(6,"div",10),n.Ob(),n.Ob(),n.Lb(7,"div",11),n.Ob(),n.Ob(),n.Ob())}function g(t,e){1&t&&(n.Pb(0,"span",35),n.tc(1,"connect\xe9"),n.Ob())}function v(t,e){1&t&&(n.Pb(0,"span",36),n.tc(1,"deconnect\xe9"),n.Ob())}function u(t,e){if(1&t){const t=n.Qb();n.Pb(0,"div",24),n.Pb(1,"div",25),n.Xb("click",(function(){n.mc(t);const a=e.$implicit;return n.Zb(2).navigategatewayDetail(a.id)})),n.Pb(2,"div",26),n.Pb(3,"div",27),n.Pb(4,"div",4),n.Pb(5,"div",28),n.Lb(6,"img",29),n.Ob(),n.Ob(),n.Pb(7,"div",4),n.Pb(8,"h4",30),n.tc(9),n.Ob(),n.Pb(10,"h5",31),n.tc(11,"Etat: "),n.rc(12,g,2,0,"span",32),n.rc(13,v,2,0,"span",33),n.Ob(),n.Pb(14,"p"),n.Pb(15,"span",34),n.tc(16),n.ac(17,"date"),n.Ob(),n.Ob(),n.Pb(18,"p"),n.Pb(19,"span",34),n.Pb(20,"h5"),n.tc(21),n.Ob(),n.Ob(),n.Ob(),n.Pb(22,"p"),n.Pb(23,"span",34),n.Pb(24,"h5"),n.tc(25),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Ob()}if(2&t){const t=e.$implicit;n.zb(9),n.vc("Gateways: ",t.name,""),n.zb(3),n.ec("ngIf",t.connected),n.zb(1),n.ec("ngIf",!t.connected),n.zb(3),n.vc("Date de creation: ",n.bc(17,6,t.date_created,"d/M/y"),""),n.zb(5),n.vc("Utilisateur: ",t.owner," "),n.zb(4),n.vc("ID: ",t.id,"")}}function p(t,e){1&t&&(n.Pb(0,"div",18),n.Pb(1,"div",37),n.Lb(2,"img",38),n.Pb(3,"h5",39),n.tc(4,"Aucune Gateway en vue"),n.Ob(),n.Ob(),n.Ob())}function O(t,e){if(1&t&&(n.Pb(0,"div",12),n.Pb(1,"div",13),n.Pb(2,"div",14),n.Pb(3,"div",15),n.Pb(4,"div",16),n.Pb(5,"div",17),n.Pb(6,"div",3),n.Pb(7,"div",18),n.Pb(8,"h5",19),n.tc(9," LISTE DES GATEWAYS "),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Lb(10,"hr",20),n.Pb(11,"div",21),n.Pb(12,"div",3),n.rc(13,u,26,9,"div",22),n.rc(14,p,5,0,"div",23),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Ob()),2&t){const t=n.Zb();n.zb(13),n.ec("ngForOf",t.gateways_data),n.zb(1),n.ec("ngIf",0==t.gateways_data.length)}}let m=(()=>{class t{constructor(t,e){this._gatewaysService=t,this.router=e,this.unsubscribeAll=new o.a,this.loadinggateways=!1}ngOnInit(){this.loadinggateways=!0,this.getallgateways()}getallgateways(){const t=JSON.parse(sessionStorage.getItem("useremail"));this._gatewaysService.getgatewaysall().pipe(Object(s.a)(this.unsubscribeAll)).subscribe(e=>{const a=[];for(const i of e)i.owner===t&&a.push(i);this.loadinggateways=!1,this.gateways_data=a,this.datalength=a.length,console.log("getwaydata",this.gateways_data)},t=>{t&&console.log("erreur",t)})}navigategatewayDetail(t){sessionStorage.setItem("gatewayId",t),this.router.navigate(["/account/gateways/detail"])}ngOnDestroy(){this.unsubscribeAll.next(),this.unsubscribeAll.complete()}}return t.\u0275fac=function(e){return new(e||t)(n.Kb(d.a),n.Kb(b.a))},t.\u0275cmp=n.Eb({type:t,selectors:[["waziupfront-gateways-list"]],decls:3,vars:3,consts:[["class","row ",4,"ngIf"],["class","row",4,"ngIf"],["class","row mb-5",4,"ngIf"],[1,"row"],[1,"col-12"],[1,"page-title-box","mt-3","mb-5"],[1,"h2"],[1,"placeload"],[1,"header"],[1,"header-content"],[1,"content-shape","loads"],[1,"image-placeholder","loads"],[1,"row","mb-5"],[1,"col-xl-12","col-md-12","col-lg-12","order-lg-2","order-xl-1"],[1,"card"],[1,"card-body","pb-1"],[1,"media"],[1,"media-body"],[1,"col-md-12"],[1,"m-2"],[1,"m-0"],[1,"my-3"],["class","col-lg-6 col-xl-6",4,"ngFor","ngForOf"],["class","col-md-12",4,"ngIf"],[1,"col-lg-6","col-xl-6"],[1,"card","cusor-pointer",3,"click"],[1,"card-body"],[1,"row","align-items-center"],[1,"text-center","mb-3"],["src","assets/images/img-component/getways.png","alt","devices",2,"width","100px"],["title","New Leads",1,"font-weight-bold"],[1,"my-2","py-1"],["class","badge badge-success",4,"ngIf"],["class","badge badge-danger",4,"ngIf"],[1,"text-nowrap"],[1,"badge","badge-success"],[1,"badge","badge-danger"],[1,"box-not-found"],["src","assets/images/notfound-2.svg","alt","not found"],[1,"not-found-describe"]],template:function(t,e){1&t&&(n.rc(0,r,5,0,"div",0),n.rc(1,l,8,0,"div",1),n.rc(2,O,15,2,"div",2)),2&t&&(n.ec("ngIf",!e.loadinggateways),n.zb(1),n.ec("ngIf",e.loadinggateways),n.zb(1),n.ec("ngIf",!e.loadinggateways))},directives:[i.j,i.i],pipes:[i.d],encapsulation:2}),t})();var w=a("L4gg");function P(t,e){if(1&t&&(n.Pb(0,"div",3),n.Pb(1,"div",4),n.Pb(2,"div",5),n.Pb(3,"p",6),n.tc(4),n.Ob(),n.Ob(),n.Ob(),n.Ob()),2&t){const t=n.Zb();n.zb(4),n.vc("Gateways: ",t.gatewaysdetail.name,"")}}function h(t,e){1&t&&(n.Pb(0,"div",3),n.Pb(1,"div",4),n.Pb(2,"div",7),n.Pb(3,"div",8),n.Pb(4,"div",9),n.Lb(5,"div",10),n.Lb(6,"div",10),n.Ob(),n.Ob(),n.Lb(7,"div",11),n.Ob(),n.Ob(),n.Ob())}function y(t,e){1&t&&(n.Pb(0,"span",37),n.tc(1,"connect\xe9"),n.Ob())}function f(t,e){1&t&&(n.Pb(0,"span",38),n.tc(1,"deconnect\xe9"),n.Ob())}function I(t,e){if(1&t){const t=n.Qb();n.Pb(0,"div",39),n.Pb(1,"div",40),n.Xb("click",(function(){n.mc(t);const a=e.$implicit;return n.Zb(2).navigatedeviceDetail(a.id)})),n.Pb(2,"div",29),n.Pb(3,"div",41),n.Pb(4,"div",42),n.Pb(5,"h5",43),n.tc(6),n.Ob(),n.Ob(),n.Pb(7,"div",44),n.Pb(8,"div",45),n.Lb(9,"img",46),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Ob()}if(2&t){const t=e.$implicit;n.zb(5),n.fc("title",t.name),n.zb(1),n.uc(t.name)}}function x(t,e){if(1&t&&(n.Pb(0,"div",12),n.Pb(1,"div",13),n.Pb(2,"div",14),n.Pb(3,"div",15),n.Pb(4,"div",16),n.Pb(5,"div",17),n.Pb(6,"div",3),n.Pb(7,"div",18),n.Pb(8,"h5",19),n.tc(9),n.rc(10,y,2,0,"span",20),n.rc(11,f,2,0,"span",21),n.Ob(),n.Ob(),n.Pb(12,"div",22),n.Pb(13,"button",23),n.tc(14,"Editer la gateways"),n.Ob(),n.Pb(15,"button",24),n.tc(16,"Supprimer "),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Lb(17,"hr",25),n.Pb(18,"div",26),n.Pb(19,"div",3),n.Pb(20,"div",27),n.Pb(21,"div",28),n.Pb(22,"div",29),n.Lb(23,"img",30),n.Pb(24,"h4",31),n.tc(25),n.Ob(),n.Pb(26,"p",32),n.tc(27),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Pb(28,"div",33),n.Pb(29,"div",14),n.Pb(30,"div",34),n.Pb(31,"p",35),n.tc(32,"Listes des devices"),n.Ob(),n.Ob(),n.Pb(33,"div",29),n.Pb(34,"div",3),n.rc(35,I,10,2,"div",36),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Ob(),n.Ob()),2&t){const t=n.Zb();n.zb(9),n.vc("NOM: ",t.gatewaysdetail.name," "),n.zb(1),n.ec("ngIf",t.gatewaysdetail.connected),n.zb(1),n.ec("ngIf",!t.gatewaysdetail.connected),n.zb(14),n.vc("Utilisateur: ",t.gatewaysdetail.owner,""),n.zb(2),n.vc("ID: ",t.gatewaysdetail.id,""),n.zb(8),n.ec("ngForOf",t.gatewaysdetail.devices)}}function z(t,e){if(1&t&&(n.Pb(0,"div",3),n.Pb(1,"div",47),n.Pb(2,"div",14),n.Pb(3,"div",29),n.Pb(4,"h4",48),n.tc(5),n.Ob(),n.Lb(6,"div",49),n.Ob(),n.Ob(),n.Ob(),n.Ob()),2&t){const t=n.Zb();n.zb(5),n.vc("Localisation de la gateway: ",t.gatewaysdetail.name,"")}}const L=[{path:"",component:c,children:[{path:"",component:m},{path:"list",component:m},{path:"detail",component:(()=>{class t{constructor(t,e){this._gatewaysService=t,this.router=e,this.unsubscribeAll=new o.a,this.loading=!1}ngOnInit(){this.loading=!0,this.gatewayid=sessionStorage.getItem("gatewayId"),this.getDetailProject(),this.getGatewayslocalisationmap()}getDetailProject(){try{this._gatewaysService.getgatewaysDetail(this.gatewayid).pipe(Object(s.a)(this.unsubscribeAll)).subscribe(t=>{t&&(this.loading=!1,this.gatewaysdetail=t,console.log("gatewaydetail",t))},t=>{})}catch(t){console.log("Erreur",t)}}getGatewayslocalisationmap(){try{this._gatewaysService.getgatewaysDetail(this.gatewayid).pipe(Object(s.a)(this.unsubscribeAll)).subscribe(t=>{this.gateways_mapdata=t;const e=w.map("gatewaysmap").setView([5.355577644,-3.925080299],2.5);w.tileLayer("http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="http://openstreetmap.org">OpenStreetMap</a> Contributors'}).addTo(e),new w.marker([this.gateways_mapdata.location.latitude,this.gateways_mapdata.location.longitude]).bindPopup("<h5>"+this.gateways_mapdata.name+"</h5> ").addTo(e)},t=>{t&&console.log("erreur",t)})}catch(t){console.log("erreur")}}navigatedeviceDetail(t){sessionStorage.setItem("deviceId",t),this.router.navigate(["/account/devices/detail"])}ngOnDestroy(){this.unsubscribeAll.next(),this.unsubscribeAll.complete()}}return t.\u0275fac=function(e){return new(e||t)(n.Kb(d.a),n.Kb(b.a))},t.\u0275cmp=n.Eb({type:t,selectors:[["waziupfront-gateways-detail"]],decls:4,vars:4,consts:[["class","row ",4,"ngIf"],["class","row",4,"ngIf"],["class","row mb-5",4,"ngIf"],[1,"row"],[1,"col-12"],[1,"page-title-box","mt-3","mb-5"],[1,"h2"],[1,"placeload"],[1,"header"],[1,"header-content"],[1,"content-shape","loads"],[1,"image-placeholder","loads"],[1,"row","mb-5"],[1,"col-xl-6","col-lg-12","order-lg-2","order-xl-1"],[1,"card"],[1,"card-body","pb-1"],[1,"media"],[1,"media-body"],[1,"col-md-8"],[1,"m-2"],["class","badge badge-success",4,"ngIf"],["class","badge badge-danger",4,"ngIf"],[1,"col-md-4"],["type","button",1,"btn","btn-outline-primary","mr-1"],["type","button",1,"btn","btn-outline-danger"],[1,"m-0"],[1,"my-3"],[1,"col-lg-12","col-xl-12"],[1,"card","text-center"],[1,"card-body"],["src","assets/images/users/avatar-1.png","alt","profile-image",1,"rounded-circle","avatar-lg","img-thumbnail"],[1,"mb-2","mt-2"],[1,"text-muted","font-14"],[1,"col-md-12"],[1,"card-header"],[1,"h3","text-center","mb-3"],["class","col-lg-6 col-xl-6",4,"ngFor","ngForOf"],[1,"badge","badge-success"],[1,"badge","badge-danger"],[1,"col-lg-6","col-xl-6"],[1,"card","cusor-pointer","pt-5","pb-5",3,"click"],[1,"row","align-items-center"],[1,"col-8"],[1,"text-muted","font-weight-normal","mt-0","text-truncate",3,"title"],[1,"col-4"],[1,"text-right"],["src","assets/images/img-component/devices.png","alt","get ways",2,"width","100px"],[1,"col-md-12","col-xl-12"],[1,"header-title","mb-3"],["id","gatewaysmap",1,"gmaps",2,"position","relative","overflow","hidden"]],template:function(t,e){1&t&&(n.rc(0,P,5,1,"div",0),n.rc(1,h,8,0,"div",1),n.rc(2,x,36,6,"div",2),n.rc(3,z,7,1,"div",1)),2&t&&(n.ec("ngIf",!e.loading),n.zb(1),n.ec("ngIf",e.loading),n.zb(1),n.ec("ngIf",!e.loading),n.zb(1),n.ec("ngIf",!e.loading))},directives:[i.j,i.i],encapsulation:2}),t})()}]}];let S=(()=>{class t{}return t.\u0275mod=n.Ib({type:t}),t.\u0275inj=n.Hb({factory:function(e){return new(e||t)},imports:[[b.d.forChild(L)],b.d]}),t})(),D=(()=>{class t{}return t.\u0275mod=n.Ib({type:t}),t.\u0275inj=n.Hb({factory:function(e){return new(e||t)},imports:[[i.b,S]]}),t})()}}]);