{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{n39x:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,\"GatewaysModule\",(function(){return gateways_module_GatewaysModule}));var common=__webpack_require__(\"2kYt\"),fesm2015_router=__webpack_require__(\"sEIs\"),core=__webpack_require__(\"EM62\");let gateways_component_GatewaysComponent=(()=>{class GatewaysComponent{constructor(){}ngOnInit(){}}return GatewaysComponent.ɵfac=function(t){return new(t||GatewaysComponent)},GatewaysComponent.ɵcmp=core.Eb({type:GatewaysComponent,selectors:[[\"waziupfront-gateways\"]],decls:1,vars:0,template:function(rf,ctx){1&rf&&core.Lb(0,\"router-outlet\")},directives:[fesm2015_router.e],encapsulation:2}),GatewaysComponent})();var takeUntil=__webpack_require__(\"kuMc\"),Subject=__webpack_require__(\"ZTXN\"),gateways_service=__webpack_require__(\"1j5C\");function GatewaysListComponent_div_0_Template(rf,ctx){1&rf&&(core.Pb(0,\"div\",3),core.Pb(1,\"div\",4),core.Pb(2,\"div\",5),core.Pb(3,\"p\",6),core.tc(4,\"Gateways\"),core.Ob(),core.Ob(),core.Ob(),core.Ob())}function GatewaysListComponent_div_1_Template(rf,ctx){1&rf&&(core.Pb(0,\"div\",3),core.Pb(1,\"div\",4),core.Pb(2,\"div\",7),core.Pb(3,\"div\",8),core.Pb(4,\"div\",9),core.Lb(5,\"div\",10),core.Lb(6,\"div\",10),core.Ob(),core.Ob(),core.Lb(7,\"div\",11),core.Ob(),core.Ob(),core.Ob())}function GatewaysListComponent_div_2_div_13_span_12_Template(rf,ctx){1&rf&&(core.Pb(0,\"span\",35),core.tc(1,\"connecté\"),core.Ob())}function GatewaysListComponent_div_2_div_13_span_13_Template(rf,ctx){1&rf&&(core.Pb(0,\"span\",36),core.tc(1,\"deconnecté\"),core.Ob())}function GatewaysListComponent_div_2_div_13_Template(rf,ctx){if(1&rf){const _r98=core.Qb();core.Pb(0,\"div\",24),core.Pb(1,\"div\",25),core.Xb(\"click\",(function(){core.mc(_r98);const gateway_r94=ctx.$implicit;return core.Zb(2).navigategatewayDetail(gateway_r94.id)})),core.Pb(2,\"div\",26),core.Pb(3,\"div\",27),core.Pb(4,\"div\",4),core.Pb(5,\"div\",28),core.Lb(6,\"img\",29),core.Ob(),core.Ob(),core.Pb(7,\"div\",4),core.Pb(8,\"h4\",30),core.tc(9),core.Ob(),core.Pb(10,\"h5\",31),core.tc(11,\"Etat: \"),core.rc(12,GatewaysListComponent_div_2_div_13_span_12_Template,2,0,\"span\",32),core.rc(13,GatewaysListComponent_div_2_div_13_span_13_Template,2,0,\"span\",33),core.Ob(),core.Pb(14,\"p\"),core.Pb(15,\"span\",34),core.tc(16),core.ac(17,\"date\"),core.Ob(),core.Ob(),core.Pb(18,\"p\"),core.Pb(19,\"span\",34),core.Pb(20,\"h5\"),core.tc(21),core.Ob(),core.Ob(),core.Ob(),core.Pb(22,\"p\"),core.Pb(23,\"span\",34),core.Pb(24,\"h5\"),core.tc(25),core.Ob(),core.Ob(),core.Ob(),core.Ob(),core.Ob(),core.Ob(),core.Ob(),core.Ob()}if(2&rf){const gateway_r94=ctx.$implicit;core.zb(9),core.vc(\"Gateways: \",gateway_r94.name,\"\"),core.zb(3),core.ec(\"ngIf\",gateway_r94.connected),core.zb(1),core.ec(\"ngIf\",!gateway_r94.connected),core.zb(3),core.vc(\"Date de creation: \",core.bc(17,6,gateway_r94.date_created,\"d/M/y\"),\"\"),core.zb(5),core.vc(\"Utilisateur: \",gateway_r94.owner,\" \"),core.zb(4),core.vc(\"ID: \",gateway_r94.id,\"\")}}function GatewaysListComponent_div_2_div_14_Template(rf,ctx){1&rf&&(core.Pb(0,\"div\",18),core.Pb(1,\"div\",37),core.Lb(2,\"img\",38),core.Pb(3,\"h5\",39),core.tc(4,\"Aucune Gateway en vue\"),core.Ob(),core.Ob(),core.Ob())}function GatewaysListComponent_div_2_Template(rf,ctx){if(1&rf&&(core.Pb(0,\"div\",12),core.Pb(1,\"div\",13),core.Pb(2,\"div\",14),core.Pb(3,\"div\",15),core.Pb(4,\"div\",16),core.Pb(5,\"div\",17),core.Pb(6,\"div\",3),core.Pb(7,\"div\",18),core.Pb(8,\"h5\",19),core.tc(9,\" LISTE DES GATEWAYS \"),core.Ob(),core.Ob(),core.Ob(),core.Ob(),core.Ob(),core.Lb(10,\"hr\",20),core.Pb(11,\"div\",21),core.Pb(12,\"div\",3),core.rc(13,GatewaysListComponent_div_2_div_13_Template,26,9,\"div\",22),core.rc(14,GatewaysListComponent_div_2_div_14_Template,5,0,\"div\",23),core.Ob(),core.Ob(),core.Ob(),core.Ob(),core.Ob(),core.Ob()),2&rf){const ctx_r91=core.Zb();core.zb(13),core.ec(\"ngForOf\",ctx_r91.gateways_data),core.zb(1),core.ec(\"ngIf\",0==ctx_r91.gateways_data.length)}}let gateways_list_component_GatewaysListComponent=(()=>{class GatewaysListComponent{constructor(_gatewaysService,router){this._gatewaysService=_gatewaysService,this.router=router,this.unsubscribeAll=new Subject.a,this.loadinggateways=!1}ngOnInit(){this.loadinggateways=!0,this.getallgateways()}getallgateways(){const username=JSON.parse(sessionStorage.getItem(\"useremail\"));this._gatewaysService.getgatewaysall().pipe(Object(takeUntil.a)(this.unsubscribeAll)).subscribe(res=>{const fuel=[];for(const data of res)data.owner===username&&fuel.push(data);this.loadinggateways=!1,this.gateways_data=fuel,this.datalength=fuel.length,console.log(\"getwaydata\",this.gateways_data)},error=>{error&&console.log(\"erreur\",error)})}navigategatewayDetail(gateway_id){sessionStorage.setItem(\"gatewayId\",gateway_id),this.router.navigate([\"/account/gateways/detail\"])}ngOnDestroy(){this.unsubscribeAll.next(),this.unsubscribeAll.complete()}}return GatewaysListComponent.ɵfac=function(t){return new(t||GatewaysListComponent)(core.Kb(gateways_service.a),core.Kb(fesm2015_router.a))},GatewaysListComponent.ɵcmp=core.Eb({type:GatewaysListComponent,selectors:[[\"waziupfront-gateways-list\"]],decls:3,vars:3,consts:[[\"class\",\"row \",4,\"ngIf\"],[\"class\",\"row\",4,\"ngIf\"],[\"class\",\"row mb-5\",4,\"ngIf\"],[1,\"row\"],[1,\"col-12\"],[1,\"page-title-box\",\"mt-3\",\"mb-5\"],[1,\"h2\"],[1,\"placeload\"],[1,\"header\"],[1,\"header-content\"],[1,\"content-shape\",\"loads\"],[1,\"image-placeholder\",\"loads\"],[1,\"row\",\"mb-5\"],[1,\"col-xl-12\",\"col-md-12\",\"col-lg-12\",\"order-lg-2\",\"order-xl-1\"],[1,\"card\"],[1,\"card-body\",\"pb-1\"],[1,\"media\"],[1,\"media-body\"],[1,\"col-md-12\"],[1,\"m-2\"],[1,\"m-0\"],[1,\"my-3\"],[\"class\",\"col-lg-6 col-xl-6\",4,\"ngFor\",\"ngForOf\"],[\"class\",\"col-md-12\",4,\"ngIf\"],[1,\"col-lg-6\",\"col-xl-6\"],[1,\"card\",\"cusor-pointer\",3,\"click\"],[1,\"card-body\"],[1,\"row\",\"align-items-center\"],[1,\"text-center\",\"mb-3\"],[\"src\",\"assets/images/img-component/getways.png\",\"alt\",\"devices\",2,\"width\",\"100px\"],[\"title\",\"New Leads\",1,\"font-weight-bold\"],[1,\"my-2\",\"py-1\"],[\"class\",\"badge badge-success\",4,\"ngIf\"],[\"class\",\"badge badge-danger\",4,\"ngIf\"],[1,\"text-nowrap\"],[1,\"badge\",\"badge-success\"],[1,\"badge\",\"badge-danger\"],[1,\"box-not-found\"],[\"src\",\"assets/images/notfound-2.svg\",\"alt\",\"not found\"],[1,\"not-found-describe\"]],template:function(rf,ctx){1&rf&&(core.rc(0,GatewaysListComponent_div_0_Template,5,0,\"div\",0),core.rc(1,GatewaysListComponent_div_1_Template,8,0,\"div\",1),core.rc(2,GatewaysListComponent_div_2_Template,15,2,\"div\",2)),2&rf&&(core.ec(\"ngIf\",!ctx.loadinggateways),core.zb(1),core.ec(\"ngIf\",ctx.loadinggateways),core.zb(1),core.ec(\"ngIf\",!ctx.loadinggateways))},directives:[common.j,common.i],pipes:[common.d],encapsulation:2}),GatewaysListComponent})();var leaflet_src=__webpack_require__(\"L4gg\");function GatewaysDetailComponent_div_0_Template(rf,ctx){if(1&rf&&(core.Pb(0,\"div\",3),core.Pb(1,\"div\",4),core.Pb(2,\"div\",5),core.Pb(3,\"p\",6),core.tc(4),core.Ob(),core.Ob(),core.Ob(),core.Ob()),2&rf){const ctx_r99=core.Zb();core.zb(4),core.vc(\"Gateways: \",ctx_r99.gatewaysdetail.name,\"\")}}function GatewaysDetailComponent_div_1_Template(rf,ctx){1&rf&&(core.Pb(0,\"div\",3),core.Pb(1,\"div\",4),core.Pb(2,\"div\",7),core.Pb(3,\"div\",8),core.Pb(4,\"div\",9),core.Lb(5,\"div\",10),core.Lb(6,\"div\",10),core.Ob(),core.Ob(),core.Lb(7,\"div\",11),core.Ob(),core.Ob(),core.Ob())}function GatewaysDetailComponent_div_2_span_10_Template(rf,ctx){1&rf&&(core.Pb(0,\"span\",37),core.tc(1,\"connecté\"),core.Ob())}function GatewaysDetailComponent_div_2_span_11_Template(rf,ctx){1&rf&&(core.Pb(0,\"span\",38),core.tc(1,\"deconnecté\"),core.Ob())}function GatewaysDetailComponent_div_2_div_35_Template(rf,ctx){if(1&rf){const _r108=core.Qb();core.Pb(0,\"div\",39),core.Pb(1,\"div\",40),core.Xb(\"click\",(function(){core.mc(_r108);const device_r106=ctx.$implicit;return core.Zb(2).navigatedeviceDetail(device_r106.id)})),core.Pb(2,\"div\",29),core.Pb(3,\"div\",41),core.Pb(4,\"div\",42),core.Pb(5,\"h5\",43),core.tc(6),core.Ob(),core.Ob(),core.Pb(7,\"div\",44),core.Pb(8,\"div\",45),core.Lb(9,\"img\",46),core.Ob(),core.Ob(),core.Ob(),core.Ob(),core.Ob(),core.Ob()}if(2&rf){const device_r106=ctx.$implicit;core.zb(5),core.fc(\"title\",device_r106.name),core.zb(1),core.uc(device_r106.name)}}function GatewaysDetailComponent_div_2_Template(rf,ctx){if(1&rf&&(core.Pb(0,\"div\",12),core.Pb(1,\"div\",13),core.Pb(2,\"div\",14),core.Pb(3,\"div\",15),core.Pb(4,\"div\",16),core.Pb(5,\"div\",17),core.Pb(6,\"div\",3),core.Pb(7,\"div\",18),core.Pb(8,\"h5\",19),core.tc(9),core.rc(10,GatewaysDetailComponent_div_2_span_10_Template,2,0,\"span\",20),core.rc(11,GatewaysDetailComponent_div_2_span_11_Template,2,0,\"span\",21),core.Ob(),core.Ob(),core.Pb(12,\"div\",22),core.Pb(13,\"button\",23),core.tc(14,\"Editer la gateways\"),core.Ob(),core.Pb(15,\"button\",24),core.tc(16,\"Supprimer \"),core.Ob(),core.Ob(),core.Ob(),core.Ob(),core.Ob(),core.Lb(17,\"hr\",25),core.Pb(18,\"div\",26),core.Pb(19,\"div\",3),core.Pb(20,\"div\",27),core.Pb(21,\"div\",28),core.Pb(22,\"div\",29),core.Lb(23,\"img\",30),core.Pb(24,\"h4\",31),core.tc(25),core.Ob(),core.Pb(26,\"p\",32),core.tc(27),core.Ob(),core.Ob(),core.Ob(),core.Ob(),core.Pb(28,\"div\",33),core.Pb(29,\"div\",14),core.Pb(30,\"div\",34),core.Pb(31,\"p\",35),core.tc(32,\"Listes des devices\"),core.Ob(),core.Ob(),core.Pb(33,\"div\",29),core.Pb(34,\"div\",3),core.rc(35,GatewaysDetailComponent_div_2_div_35_Template,10,2,\"div\",36),core.Ob(),core.Ob(),core.Ob(),core.Ob(),core.Ob(),core.Ob(),core.Ob(),core.Ob(),core.Ob(),core.Ob()),2&rf){const ctx_r101=core.Zb();core.zb(9),core.vc(\"NOM: \",ctx_r101.gatewaysdetail.name,\" \"),core.zb(1),core.ec(\"ngIf\",ctx_r101.gatewaysdetail.connected),core.zb(1),core.ec(\"ngIf\",!ctx_r101.gatewaysdetail.connected),core.zb(14),core.vc(\"Utilisateur: \",ctx_r101.gatewaysdetail.owner,\"\"),core.zb(2),core.vc(\"ID: \",ctx_r101.gatewaysdetail.id,\"\"),core.zb(8),core.ec(\"ngForOf\",ctx_r101.gatewaysdetail.devices)}}function GatewaysDetailComponent_div_3_Template(rf,ctx){if(1&rf&&(core.Pb(0,\"div\",3),core.Pb(1,\"div\",47),core.Pb(2,\"div\",14),core.Pb(3,\"div\",29),core.Pb(4,\"h4\",48),core.tc(5),core.Ob(),core.Lb(6,\"div\",49),core.Ob(),core.Ob(),core.Ob(),core.Ob()),2&rf){const ctx_r102=core.Zb();core.zb(5),core.vc(\"Localisation de la gateway: \",ctx_r102.gatewaysdetail.name,\"\")}}const routes=[{path:\"\",component:gateways_component_GatewaysComponent,children:[{path:\"\",component:gateways_list_component_GatewaysListComponent},{path:\"list\",component:gateways_list_component_GatewaysListComponent},{path:\"detail\",component:(()=>{class GatewaysDetailComponent{constructor(_gatewaysService,router){this._gatewaysService=_gatewaysService,this.router=router,this.unsubscribeAll=new Subject.a,this.loading=!1}ngOnInit(){this.loading=!0,this.gatewayid=sessionStorage.getItem(\"gatewayId\"),this.getDetailProject(),this.getGatewayslocalisationmap()}getDetailProject(){try{this._gatewaysService.getgatewaysDetail(this.gatewayid).pipe(Object(takeUntil.a)(this.unsubscribeAll)).subscribe(res=>{res&&(this.loading=!1,this.gatewaysdetail=res,console.log(\"gatewaydetail\",res))},error=>{})}catch(e){console.log(\"Erreur\",e)}}getGatewayslocalisationmap(){try{this._gatewaysService.getgatewaysDetail(this.gatewayid).pipe(Object(takeUntil.a)(this.unsubscribeAll)).subscribe(res=>{this.gateways_mapdata=res;const map=leaflet_src.map(\"gatewaysmap\").setView([5.355577644,-3.925080299],2.5);leaflet_src.tileLayer(\"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",{attribution:'&copy; <a href=\"http://openstreetmap.org\">OpenStreetMap</a> Contributors'}).addTo(map),new leaflet_src.marker([this.gateways_mapdata.location.latitude,this.gateways_mapdata.location.longitude]).bindPopup(\"<h5>\"+this.gateways_mapdata.name+\"</h5> \").addTo(map)},error=>{error&&console.log(\"erreur\",error)})}catch(e){console.log(\"erreur\")}}navigatedeviceDetail(device_id){sessionStorage.setItem(\"deviceId\",device_id),this.router.navigate([\"/account/devices/detail\"])}ngOnDestroy(){this.unsubscribeAll.next(),this.unsubscribeAll.complete()}}return GatewaysDetailComponent.ɵfac=function(t){return new(t||GatewaysDetailComponent)(core.Kb(gateways_service.a),core.Kb(fesm2015_router.a))},GatewaysDetailComponent.ɵcmp=core.Eb({type:GatewaysDetailComponent,selectors:[[\"waziupfront-gateways-detail\"]],decls:4,vars:4,consts:[[\"class\",\"row \",4,\"ngIf\"],[\"class\",\"row\",4,\"ngIf\"],[\"class\",\"row mb-5\",4,\"ngIf\"],[1,\"row\"],[1,\"col-12\"],[1,\"page-title-box\",\"mt-3\",\"mb-5\"],[1,\"h2\"],[1,\"placeload\"],[1,\"header\"],[1,\"header-content\"],[1,\"content-shape\",\"loads\"],[1,\"image-placeholder\",\"loads\"],[1,\"row\",\"mb-5\"],[1,\"col-xl-6\",\"col-lg-12\",\"order-lg-2\",\"order-xl-1\"],[1,\"card\"],[1,\"card-body\",\"pb-1\"],[1,\"media\"],[1,\"media-body\"],[1,\"col-md-8\"],[1,\"m-2\"],[\"class\",\"badge badge-success\",4,\"ngIf\"],[\"class\",\"badge badge-danger\",4,\"ngIf\"],[1,\"col-md-4\"],[\"type\",\"button\",1,\"btn\",\"btn-outline-primary\",\"mr-1\"],[\"type\",\"button\",1,\"btn\",\"btn-outline-danger\"],[1,\"m-0\"],[1,\"my-3\"],[1,\"col-lg-12\",\"col-xl-12\"],[1,\"card\",\"text-center\"],[1,\"card-body\"],[\"src\",\"assets/images/users/avatar-1.png\",\"alt\",\"profile-image\",1,\"rounded-circle\",\"avatar-lg\",\"img-thumbnail\"],[1,\"mb-2\",\"mt-2\"],[1,\"text-muted\",\"font-14\"],[1,\"col-md-12\"],[1,\"card-header\"],[1,\"h3\",\"text-center\",\"mb-3\"],[\"class\",\"col-lg-6 col-xl-6\",4,\"ngFor\",\"ngForOf\"],[1,\"badge\",\"badge-success\"],[1,\"badge\",\"badge-danger\"],[1,\"col-lg-6\",\"col-xl-6\"],[1,\"card\",\"cusor-pointer\",\"pt-5\",\"pb-5\",3,\"click\"],[1,\"row\",\"align-items-center\"],[1,\"col-8\"],[1,\"text-muted\",\"font-weight-normal\",\"mt-0\",\"text-truncate\",3,\"title\"],[1,\"col-4\"],[1,\"text-right\"],[\"src\",\"assets/images/img-component/devices.png\",\"alt\",\"get ways\",2,\"width\",\"100px\"],[1,\"col-md-12\",\"col-xl-12\"],[1,\"header-title\",\"mb-3\"],[\"id\",\"gatewaysmap\",1,\"gmaps\",2,\"position\",\"relative\",\"overflow\",\"hidden\"]],template:function(rf,ctx){1&rf&&(core.rc(0,GatewaysDetailComponent_div_0_Template,5,1,\"div\",0),core.rc(1,GatewaysDetailComponent_div_1_Template,8,0,\"div\",1),core.rc(2,GatewaysDetailComponent_div_2_Template,36,6,\"div\",2),core.rc(3,GatewaysDetailComponent_div_3_Template,7,1,\"div\",1)),2&rf&&(core.ec(\"ngIf\",!ctx.loading),core.zb(1),core.ec(\"ngIf\",ctx.loading),core.zb(1),core.ec(\"ngIf\",!ctx.loading),core.zb(1),core.ec(\"ngIf\",!ctx.loading))},directives:[common.j,common.i],encapsulation:2}),GatewaysDetailComponent})()}]}];let gateways_routing_module_GatewaysRoutingModule=(()=>{class GatewaysRoutingModule{}return GatewaysRoutingModule.ɵmod=core.Ib({type:GatewaysRoutingModule}),GatewaysRoutingModule.ɵinj=core.Hb({factory:function(t){return new(t||GatewaysRoutingModule)},imports:[[fesm2015_router.d.forChild(routes)],fesm2015_router.d]}),GatewaysRoutingModule})(),gateways_module_GatewaysModule=(()=>{class GatewaysModule{}return GatewaysModule.ɵmod=core.Ib({type:GatewaysModule}),GatewaysModule.ɵinj=core.Hb({factory:function(t){return new(t||GatewaysModule)},imports:[[common.b,gateways_routing_module_GatewaysRoutingModule]]}),GatewaysModule})()}}]);","extractedComments":[]}